{"ast":null,"code":"var _jsxFileName = \"/Users/james/Desktop/react-course/l08-assignment/src/ProductContext.js\",\n  _s = $RefreshSig$();\nimport { React, createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductContext = /*#__PURE__*/createContext();\nexport const ProductProvider = props => {\n  _s();\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    async function getProduct() {\n      await refreshProducts();\n    }\n    getProduct();\n  }, []);\n  function refreshProducts() {\n    return axios.get(\"http://localhost:3001/products\").then(response => setProducts(response.data));\n  }\n  function getProduct(id) {\n    return axios.get(`http://localhost:3001/products/${id}`).then(response => new Promise(resolve => resolve(response.data)));\n    // .catch((error) =>\n    //     new Promise((_, reject) => reject(error.response.statusText))\n    // )\n  }\n  function deleteProduct(id) {\n    axios.delete(`http://localhost:3001/products/${id}`).then(refreshProducts);\n  }\n  function addProduct(product) {\n    return axios.post(\"http://localhost:3001/products\", product).then(response => {\n      refreshProducts();\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function updateProduct(product) {\n    return axios.put(`http://localhost:3001/products/${product.id}`, product).then(response => {\n      refreshProducts();\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n    value: {\n      products,\n      getProduct,\n      deleteProduct,\n      addProduct,\n      updateProduct\n    },\n    children: [\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", props.children, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductProvider, \"f86L6rLANGURv6GE6gupp7+oOp4=\");\n_c = ProductProvider;\nexport default ProductContext;\nvar _c;\n$RefreshReg$(_c, \"ProductProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","jsxDEV","_jsxDEV","ProductContext","ProductProvider","props","_s","products","setProducts","getProduct","refreshProducts","get","then","response","data","id","Promise","resolve","deleteProduct","delete","addProduct","product","post","updateProduct","put","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/james/Desktop/react-course/l08-assignment/src/ProductContext.js"],"sourcesContent":["import {React, createContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport const ProductContext = createContext()\n\nexport const ProductProvider = (props) => {\n    const [products, setProducts] = useState([])\n\n    useEffect(() => {\n        async function getProduct() {\n            await refreshProducts()\n        }\n        getProduct()\n    }, []);\n\n    function refreshProducts() {\n        return axios.get(\"http://localhost:3001/products\")\n            .then(response => \n                setProducts(response.data)\n                )\n    }\n\n    function getProduct(id) {\n        return axios.get(`http://localhost:3001/products/${id}`)\n            .then(response =>\n            new Promise((resolve) => resolve(response.data))\n            )\n            // .catch((error) =>\n            //     new Promise((_, reject) => reject(error.response.statusText))\n            // )\n    }\n\n    function deleteProduct(id) {\n        axios.delete(`http://localhost:3001/products/${id}`)\n            .then(refreshProducts)\n    }\n\n    function addProduct(product) {\n        return axios.post(\"http://localhost:3001/products\", product)\n            .then(response => {\n            refreshProducts()\n                return new Promise((resolve) => resolve(response.data))\n        })\n    }\n\n    function updateProduct(product) {\n        return axios.put(`http://localhost:3001/products/${product.id}`, product)\n            .then(response => {\n            refreshProducts()\n                return new Promise((resolve) => resolve(response.data))\n        })\n    }\n\n    return (\n        <ProductContext.Provider\n            value={{\n                products,\n                getProduct,\n                deleteProduct,\n                addProduct,\n                updateProduct\n            }}\n        >\n            {props.children}\n        </ProductContext.Provider>\n    )\n}\nexport default ProductContext"],"mappings":";;AAAA,SAAQA,KAAK,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAChE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,OAAO,MAAMC,cAAc,gBAAGN,aAAa,CAAC,CAAC;AAE7C,OAAO,MAAMO,eAAe,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,eAAeU,UAAUA,CAAA,EAAG;MACxB,MAAMC,eAAe,CAAC,CAAC;IAC3B;IACAD,UAAU,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,eAAeA,CAAA,EAAG;IACvB,OAAOV,KAAK,CAACW,GAAG,CAAC,gCAAgC,CAAC,CAC7CC,IAAI,CAACC,QAAQ,IACVL,WAAW,CAACK,QAAQ,CAACC,IAAI,CACzB,CAAC;EACb;EAEA,SAASL,UAAUA,CAACM,EAAE,EAAE;IACpB,OAAOf,KAAK,CAACW,GAAG,CAAE,kCAAiCI,EAAG,EAAC,CAAC,CACnDH,IAAI,CAACC,QAAQ,IACd,IAAIG,OAAO,CAAEC,OAAO,IAAKA,OAAO,CAACJ,QAAQ,CAACC,IAAI,CAAC,CAC/C,CAAC;IACD;IACA;IACA;EACR;EAEA,SAASI,aAAaA,CAACH,EAAE,EAAE;IACvBf,KAAK,CAACmB,MAAM,CAAE,kCAAiCJ,EAAG,EAAC,CAAC,CAC/CH,IAAI,CAACF,eAAe,CAAC;EAC9B;EAEA,SAASU,UAAUA,CAACC,OAAO,EAAE;IACzB,OAAOrB,KAAK,CAACsB,IAAI,CAAC,gCAAgC,EAAED,OAAO,CAAC,CACvDT,IAAI,CAACC,QAAQ,IAAI;MAClBH,eAAe,CAAC,CAAC;MACb,OAAO,IAAIM,OAAO,CAAEC,OAAO,IAAKA,OAAO,CAACJ,QAAQ,CAACC,IAAI,CAAC,CAAC;IAC/D,CAAC,CAAC;EACN;EAEA,SAASS,aAAaA,CAACF,OAAO,EAAE;IAC5B,OAAOrB,KAAK,CAACwB,GAAG,CAAE,kCAAiCH,OAAO,CAACN,EAAG,EAAC,EAAEM,OAAO,CAAC,CACpET,IAAI,CAACC,QAAQ,IAAI;MAClBH,eAAe,CAAC,CAAC;MACb,OAAO,IAAIM,OAAO,CAAEC,OAAO,IAAKA,OAAO,CAACJ,QAAQ,CAACC,IAAI,CAAC,CAAC;IAC/D,CAAC,CAAC;EACN;EAEA,oBACIZ,OAAA,CAACC,cAAc,CAACsB,QAAQ;IACpBC,KAAK,EAAE;MACHnB,QAAQ;MACRE,UAAU;MACVS,aAAa;MACbE,UAAU;MACVG;IACJ,CAAE;IAAAI,QAAA,GACL,kDACG,EAACtB,KAAK,CAACsB,QAAQ,EAAC,kCACpB;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAyB,CAAC;AAElC,CAAC;AAAAzB,EAAA,CA7DYF,eAAe;AAAA4B,EAAA,GAAf5B,eAAe;AA8D5B,eAAeD,cAAc;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}